<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ePunch — Merchant Dashboard</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --coral: #FF385C;
  --coral-light: #FFF0F3;supe
  --coral-mid: #FFE4E9;
  --black: #222222;
  --gray-1: #484848;
  --gray-2: #717171;
  --gray-3: #B0B0B0;
  --gray-4: #DDDDDD;
  --gray-5: #F7F7F7;
  --white: #FFFFFF;
  --green: #008A05;
  --green-light: #E6F7E6;
  --gold: #E8A317;
  --gold-light: #FFF8E7;
  --sidebar-w: 240px;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  height: 100%;
  font-family: 'Plus Jakarta Sans', -apple-system, sans-serif;
  background: var(--gray-5);
  color: var(--black);
  -webkit-font-smoothing: antialiased;
}

/* ── Layout ── */
.app {
  display: flex;
  height: 100vh;
  overflow: hidden;
}

/* ── Sidebar ── */
.sidebar {
  width: var(--sidebar-w);
  background: var(--white);
  border-right: 1px solid #EBEBEB;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  z-index: 10;
}

.sidebar-logo {
  padding: 28px 24px 32px;
  font-size: 18px;
  font-weight: 800;
  color: var(--coral);
  letter-spacing: -0.4px;
}
.sidebar-logo span { color: var(--black); }

.sidebar-nav {
  flex: 1;
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
  border: none;
  background: none;
  font-family: inherit;
  font-size: 14px;
  font-weight: 500;
  color: var(--gray-2);
  transition: all 0.15s ease;
  width: 100%;
  text-align: left;
}
.nav-item:hover {
  background: var(--gray-5);
  color: var(--gray-1);
}
.nav-item.active {
  background: var(--coral-light);
  color: var(--coral);
  font-weight: 600;
}
.nav-item svg {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.sidebar-divider {
  height: 1px;
  background: #EBEBEB;
  margin: 8px 12px;
}

.sidebar-bottom {
  padding: 16px;
  border-top: 1px solid #EBEBEB;
}
.shop-badge {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  border-radius: 10px;
  cursor: default;
}
.shop-avatar {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  background: linear-gradient(135deg, #6B4C3B 0%, #8B6F47 100%);
  color: var(--white);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  font-weight: 800;
  flex-shrink: 0;
}
.shop-badge-info { min-width: 0; }
.shop-badge-name {
  font-size: 13px;
  font-weight: 700;
  color: var(--black);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.shop-badge-plan {
  font-size: 11px;
  color: var(--gray-3);
  margin-top: 1px;
}

/* ── Main Area ── */
.main {
  flex: 1;
  overflow-y: auto;
  padding: 0;
}

/* ── Views ── */
.view { display: none; }
.view.active { display: block; }

/* ── Top Bar ── */
.topbar {
  padding: 28px 40px 0;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
}
.topbar-greeting {
  font-size: 26px;
  font-weight: 800;
  color: var(--black);
  letter-spacing: -0.5px;
}
.topbar-date {
  font-size: 13px;
  color: var(--gray-3);
  margin-top: 4px;
  font-weight: 500;
}
.topbar-trial {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  background: var(--gold-light);
  color: var(--gold);
  font-size: 12px;
  font-weight: 700;
  border-radius: 20px;
  margin-top: 6px;
}
.topbar-trial-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--gold);
}

/* ── Stats Grid ── */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  padding: 28px 40px 0;
}
.stat-card {
  background: var(--white);
  border-radius: 16px;
  padding: 20px;
  border: 1px solid #EBEBEB;
}
.stat-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--gray-3);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 8px;
}
.stat-value {
  font-size: 32px;
  font-weight: 800;
  color: var(--black);
  letter-spacing: -1px;
  line-height: 1;
}
.stat-change {
  display: inline-flex;
  align-items: center;
  gap: 3px;
  margin-top: 8px;
  font-size: 12px;
  font-weight: 600;
  color: var(--green);
}
.stat-change.down { color: var(--coral); }

/* ── Dashboard Grid (activity + QR) ── */
.dash-grid {
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: 16px;
  padding: 24px 40px 40px;
}

/* ── Activity Feed ── */
.feed-card {
  background: var(--white);
  border-radius: 16px;
  border: 1px solid #EBEBEB;
  overflow: hidden;
}
.feed-header {
  padding: 20px 24px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid var(--gray-5);
}
.feed-title {
  font-size: 16px;
  font-weight: 700;
  color: var(--black);
}
.feed-filter {
  font-size: 12px;
  font-weight: 600;
  color: var(--gray-3);
  background: var(--gray-5);
  border: none;
  padding: 5px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-family: inherit;
}
.feed-list { padding: 0; }
.feed-item {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 24px;
  border-bottom: 1px solid var(--gray-5);
  transition: background 0.1s;
}
.feed-item:last-child { border-bottom: none; }
.feed-item:hover { background: var(--gray-5); }
.feed-icon {
  width: 38px;
  height: 38px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 17px;
  flex-shrink: 0;
}
.feed-icon.punch { background: #EDE7F6; }
.feed-icon.redeem { background: var(--green-light); }
.feed-icon.new-card { background: var(--coral-light); }
.feed-content { flex: 1; min-width: 0; }
.feed-text {
  font-size: 13px;
  font-weight: 500;
  color: var(--black);
}
.feed-text strong { font-weight: 700; }
.feed-time {
  font-size: 12px;
  color: var(--gray-3);
  margin-top: 2px;
}
.feed-badge {
  font-size: 11px;
  font-weight: 600;
  padding: 3px 10px;
  border-radius: 6px;
  flex-shrink: 0;
}
.feed-badge.punch-badge { background: var(--gray-5); color: var(--gray-2); }
.feed-badge.redeem-badge { background: var(--green-light); color: var(--green); }
.feed-badge.new-badge { background: var(--coral-light); color: var(--coral); }

/* ── QR Preview Card ── */
.qr-preview-card {
  background: var(--white);
  border-radius: 16px;
  border: 1px solid #EBEBEB;
  padding: 24px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}
.qr-preview-label {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--gray-3);
  margin-bottom: 16px;
}
.qr-preview-wrap {
  width: 200px;
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 16px;
}
.qr-preview-shop {
  font-size: 15px;
  font-weight: 700;
  color: var(--black);
  margin-bottom: 4px;
}
.qr-preview-desc {
  font-size: 12px;
  color: var(--gray-3);
  margin-bottom: 20px;
  line-height: 1.4;
}
.qr-preview-btn {
  width: 100%;
  padding: 12px;
  background: var(--coral);
  color: var(--white);
  border: none;
  border-radius: 10px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  transition: opacity 0.15s;
}
.qr-preview-btn:hover { opacity: 0.9; }

/* ── Scanner View ── */
.scanner-container {
  padding: 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.scanner-header {
  text-align: center;
  margin-bottom: 32px;
}
.scanner-title {
  font-size: 26px;
  font-weight: 800;
  color: var(--black);
  letter-spacing: -0.5px;
  margin-bottom: 6px;
}
.scanner-subtitle {
  font-size: 14px;
  color: var(--gray-2);
}
.scanner-viewport {
  width: 480px;
  height: 360px;
  background: #1A1A1A;
  border-radius: 20px;
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 24px;
}
.scanner-overlay {
  width: 220px;
  height: 220px;
  border: 3px solid rgba(255,255,255,0.7);
  border-radius: 16px;
  position: relative;
}
.scanner-corner {
  position: absolute;
  width: 24px;
  height: 24px;
  border-color: var(--white);
  border-style: solid;
  border-width: 0;
}
.scanner-corner.tl { top: -3px; left: -3px; border-top-width: 4px; border-left-width: 4px; border-radius: 8px 0 0 0; }
.scanner-corner.tr { top: -3px; right: -3px; border-top-width: 4px; border-right-width: 4px; border-radius: 0 8px 0 0; }
.scanner-corner.bl { bottom: -3px; left: -3px; border-bottom-width: 4px; border-left-width: 4px; border-radius: 0 0 0 8px; }
.scanner-corner.br { bottom: -3px; right: -3px; border-bottom-width: 4px; border-right-width: 4px; border-radius: 0 0 8px 0; }
.scanner-line {
  position: absolute;
  left: 10px;
  right: 10px;
  height: 2px;
  background: var(--coral);
  border-radius: 1px;
  top: 30%;
  animation: scanLine 2.5s ease-in-out infinite;
  box-shadow: 0 0 12px rgba(255,56,92,0.5);
}
@keyframes scanLine {
  0%, 100% { top: 15%; }
  50% { top: 80%; }
}
.scanner-hint {
  font-size: 13px;
  color: var(--gray-3);
  text-align: center;
}

.scanner-last {
  margin-top: 32px;
  width: 480px;
}
.scanner-last-title {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--gray-3);
  margin-bottom: 12px;
}
.scanner-result {
  background: var(--white);
  border-radius: 16px;
  padding: 20px;
  border: 1px solid #EBEBEB;
  display: flex;
  align-items: center;
  gap: 16px;
}
.scanner-result-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  background: var(--green-light);
  color: var(--green);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  flex-shrink: 0;
}
.scanner-result-info { flex: 1; }
.scanner-result-name {
  font-size: 15px;
  font-weight: 700;
  color: var(--black);
}
.scanner-result-detail {
  font-size: 13px;
  color: var(--gray-2);
  margin-top: 2px;
}
.scanner-result-badge {
  font-size: 12px;
  font-weight: 700;
  padding: 6px 14px;
  border-radius: 8px;
  background: var(--green-light);
  color: var(--green);
  flex-shrink: 0;
}

/* ── Program View ── */
.program-container {
  padding: 40px;
  max-width: 640px;
}
.program-page-title {
  font-size: 26px;
  font-weight: 800;
  color: var(--black);
  letter-spacing: -0.5px;
  margin-bottom: 6px;
}
.program-page-sub {
  font-size: 14px;
  color: var(--gray-2);
  margin-bottom: 32px;
}
.program-card {
  background: var(--white);
  border-radius: 16px;
  border: 1px solid #EBEBEB;
  overflow: hidden;
}
.program-card-header {
  padding: 24px;
  border-bottom: 1px solid var(--gray-5);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.program-card-title {
  font-size: 18px;
  font-weight: 800;
  color: var(--black);
}
.program-status-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  font-size: 12px;
  font-weight: 700;
  padding: 5px 12px;
  border-radius: 20px;
  background: var(--green-light);
  color: var(--green);
}
.program-status-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--green);
}
.program-card-body { padding: 0; }
.program-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 24px;
  border-bottom: 1px solid var(--gray-5);
}
.program-row:last-child { border-bottom: none; }
.program-row-label {
  font-size: 13px;
  color: var(--gray-2);
}
.program-row-value {
  font-size: 14px;
  font-weight: 600;
  color: var(--black);
}
.program-row-dots {
  display: flex;
  gap: 5px;
}
.program-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 2px solid var(--gray-4);
}
.program-dot.filled {
  border-color: transparent;
  background: var(--coral);
}
.program-dot.filled::after {
  content: '\2713';
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  font-size: 9px;
  font-weight: 700;
  color: var(--white);
}

.program-edit-btn {
  margin-top: 20px;
  padding: 12px 24px;
  background: var(--white);
  color: var(--black);
  border: 1px solid var(--gray-4);
  border-radius: 10px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.15s;
}
.program-edit-btn:hover {
  border-color: var(--black);
}

/* ── Counter QR View ── */
.counterqr-container {
  padding: 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.counterqr-title {
  font-size: 26px;
  font-weight: 800;
  color: var(--black);
  letter-spacing: -0.5px;
  margin-bottom: 6px;
}
.counterqr-subtitle {
  font-size: 14px;
  color: var(--gray-2);
  margin-bottom: 32px;
  text-align: center;
}
.counterqr-card {
  background: var(--white);
  border-radius: 20px;
  border: 1px solid #EBEBEB;
  padding: 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  max-width: 420px;
  width: 100%;
}
.counterqr-shop-name {
  font-size: 20px;
  font-weight: 800;
  color: var(--black);
  margin-bottom: 4px;
}
.counterqr-program-name {
  font-size: 13px;
  color: var(--gray-2);
  margin-bottom: 24px;
}
.counterqr-canvas-wrap {
  width: 240px;
  height: 240px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 24px;
}
.counterqr-instruction {
  font-size: 13px;
  color: var(--gray-3);
  line-height: 1.5;
  margin-bottom: 28px;
  max-width: 300px;
}
.counterqr-actions {
  display: flex;
  gap: 12px;
  width: 100%;
}
.counterqr-btn {
  flex: 1;
  padding: 12px;
  border-radius: 10px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  border: none;
  transition: opacity 0.15s;
}
.counterqr-btn:hover { opacity: 0.9; }
.counterqr-btn.primary {
  background: var(--coral);
  color: var(--white);
}
.counterqr-btn.secondary {
  background: var(--gray-5);
  color: var(--black);
}

/* ── Staff View ── */
.staff-container {
  padding: 40px;
  max-width: 640px;
}
.staff-page-title {
  font-size: 26px;
  font-weight: 800;
  color: var(--black);
  letter-spacing: -0.5px;
  margin-bottom: 6px;
}
.staff-page-sub {
  font-size: 14px;
  color: var(--gray-2);
  margin-bottom: 24px;
}
.staff-add-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 18px;
  background: var(--coral);
  color: var(--white);
  border: none;
  border-radius: 10px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  margin-bottom: 20px;
  transition: opacity 0.15s;
}
.staff-add-btn:hover { opacity: 0.9; }
.staff-list {
  background: var(--white);
  border-radius: 16px;
  border: 1px solid #EBEBEB;
  overflow: hidden;
}
.staff-item {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 16px 20px;
  border-bottom: 1px solid var(--gray-5);
}
.staff-item:last-child { border-bottom: none; }
.staff-avatar {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background: var(--gray-5);
  color: var(--gray-2);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 15px;
  font-weight: 700;
  flex-shrink: 0;
}
.staff-info { flex: 1; min-width: 0; }
.staff-name {
  font-size: 14px;
  font-weight: 700;
  color: var(--black);
}
.staff-role {
  font-size: 12px;
  color: var(--gray-3);
  margin-top: 2px;
}
.staff-status {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-weight: 600;
  padding: 3px 10px;
  border-radius: 6px;
}
.staff-status.active { background: var(--green-light); color: var(--green); }
.staff-status-dot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: currentColor;
}
.staff-remove {
  font-size: 12px;
  font-weight: 600;
  color: var(--gray-3);
  background: none;
  border: none;
  cursor: pointer;
  font-family: inherit;
  padding: 6px 12px;
  border-radius: 8px;
  transition: all 0.15s;
}
.staff-remove:hover {
  background: var(--coral-light);
  color: var(--coral);
}

/* ── Settings View ── */
.settings-container {
  padding: 40px;
  max-width: 640px;
}
.settings-page-title {
  font-size: 26px;
  font-weight: 800;
  color: var(--black);
  letter-spacing: -0.5px;
  margin-bottom: 6px;
}
.settings-page-sub {
  font-size: 14px;
  color: var(--gray-2);
  margin-bottom: 32px;
}
.settings-card {
  background: var(--white);
  border-radius: 16px;
  border: 1px solid #EBEBEB;
  overflow: hidden;
  margin-bottom: 20px;
}
.settings-card-title {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--gray-3);
  padding: 20px 24px 0;
}
.settings-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 24px;
  border-bottom: 1px solid var(--gray-5);
}
.settings-row:last-child { border-bottom: none; }
.settings-row-label {
  font-size: 13px;
  color: var(--gray-2);
}
.settings-row-value {
  font-size: 14px;
  font-weight: 600;
  color: var(--black);
}
.settings-row-edit {
  font-size: 12px;
  font-weight: 600;
  color: var(--coral);
  background: none;
  border: none;
  cursor: pointer;
  font-family: inherit;
}

.settings-logo-area {
  padding: 20px 24px;
  display: flex;
  align-items: center;
  gap: 16px;
}
.settings-logo-preview {
  width: 64px;
  height: 64px;
  border-radius: 14px;
  background: linear-gradient(135deg, #6B4C3B 0%, #8B6F47 100%);
  color: var(--white);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 26px;
  font-weight: 800;
  flex-shrink: 0;
}
.settings-logo-info { flex: 1; }
.settings-logo-text {
  font-size: 13px;
  color: var(--gray-2);
  line-height: 1.4;
}
.settings-logo-btn {
  padding: 8px 16px;
  background: var(--gray-5);
  color: var(--black);
  border: none;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  font-family: inherit;
  margin-top: 8px;
  transition: background 0.15s;
}
.settings-logo-btn:hover { background: var(--gray-4); }

.settings-danger {
  margin-top: 32px;
}
.settings-danger-title {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--coral);
  margin-bottom: 12px;
}
.settings-signout-btn {
  padding: 12px 24px;
  background: var(--white);
  color: var(--coral);
  border: 1px solid var(--coral);
  border-radius: 10px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.15s;
}
.settings-signout-btn:hover {
  background: var(--coral);
  color: var(--white);
}

/* ── Modal ── */
.modal-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  z-index: 100;
  align-items: center;
  justify-content: center;
}
.modal-overlay.visible { display: flex; }
.modal-box {
  background: var(--white);
  border-radius: 20px;
  padding: 32px;
  width: 400px;
  max-width: 90vw;
}
.modal-title {
  font-size: 18px;
  font-weight: 800;
  color: var(--black);
  margin-bottom: 20px;
}
.modal-field {
  margin-bottom: 16px;
}
.modal-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--gray-2);
  margin-bottom: 6px;
  display: block;
}
.modal-input {
  width: 100%;
  padding: 10px 14px;
  border: 1px solid var(--gray-4);
  border-radius: 10px;
  font-size: 14px;
  font-family: inherit;
  color: var(--black);
  outline: none;
  transition: border-color 0.15s;
}
.modal-input:focus { border-color: var(--coral); }
.modal-actions {
  display: flex;
  gap: 10px;
  margin-top: 24px;
}
.modal-btn {
  flex: 1;
  padding: 12px;
  border-radius: 10px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  border: none;
  transition: opacity 0.15s;
}
.modal-btn:hover { opacity: 0.9; }
.modal-btn.primary { background: var(--coral); color: var(--white); }
.modal-btn.secondary { background: var(--gray-5); color: var(--black); }
</style>
</head>
<body>

<div class="app">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-logo">e<span>Punch</span></div>
    <nav class="sidebar-nav">
      <button class="nav-item active" data-view="dashboard" onclick="switchView('dashboard')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="7" height="7" rx="1.5"/>
          <rect x="14" y="3" width="7" height="7" rx="1.5"/>
          <rect x="3" y="14" width="7" height="7" rx="1.5"/>
          <rect x="14" y="14" width="7" height="7" rx="1.5"/>
        </svg>
        Dashboard
      </button>
      <button class="nav-item" data-view="scanner" onclick="switchView('scanner')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 7V4h3"/>
          <path d="M17 4h3v3"/>
          <path d="M20 17v3h-3"/>
          <path d="M7 20H4v-3"/>
          <line x1="4" y1="12" x2="20" y2="12"/>
        </svg>
        Scanner
      </button>
      <button class="nav-item" data-view="program" onclick="switchView('program')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="4" width="18" height="16" rx="3"/>
          <path d="M3 10h18"/>
          <circle cx="8" cy="15" r="1.5" fill="currentColor" stroke="none"/>
          <circle cx="12" cy="15" r="1.5" fill="currentColor" stroke="none"/>
          <circle cx="16" cy="15" r="1.5" fill="currentColor" stroke="none"/>
        </svg>
        Program
      </button>
      <button class="nav-item" data-view="counterqr" onclick="switchView('counterqr')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="7" height="7" rx="1"/>
          <rect x="14" y="3" width="7" height="7" rx="1"/>
          <rect x="3" y="14" width="7" height="7" rx="1"/>
          <rect x="14" y="14" width="4" height="4" rx="0.5"/>
          <line x1="21" y1="14" x2="21" y2="21"/>
          <line x1="14" y1="21" x2="21" y2="21"/>
        </svg>
        Counter QR
      </button>

      <div class="sidebar-divider"></div>

      <button class="nav-item" data-view="staff" onclick="switchView('staff')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="9" cy="7" r="3.5"/>
          <path d="M2 20c0-4 3-7 7-7s7 3 7 7"/>
          <path d="M18 8.5a3 3 0 1 1 0-1"/>
          <path d="M22 20c0-3-2-5.5-5-6.5"/>
        </svg>
        Staff
      </button>
      <button class="nav-item" data-view="settings" onclick="switchView('settings')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"/>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
        </svg>
        Settings
      </button>
    </nav>

    <div class="sidebar-bottom">
      <div class="shop-badge">
        <div class="shop-avatar">B</div>
        <div class="shop-badge-info">
          <div class="shop-badge-name">Brew & Co</div>
          <div class="shop-badge-plan">Free trial &middot; 23 days left</div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main">

    <!-- Dashboard View -->
    <div class="view active" id="viewDashboard">
      <div class="topbar">
        <div>
          <div class="topbar-greeting">Good morning, Alex</div>
          <div class="topbar-date">Monday, Feb 24, 2026</div>
        </div>
        <div class="topbar-trial">
          <div class="topbar-trial-dot"></div>
          23 days left on trial
        </div>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-label">Today's punches</div>
          <div class="stat-value">12</div>
          <div class="stat-change">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M6 2v8M3 5l3-3 3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            +4 from yesterday
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Total customers</div>
          <div class="stat-value">847</div>
          <div class="stat-change">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M6 2v8M3 5l3-3 3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            +12 this week
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Rewards redeemed</div>
          <div class="stat-value">23</div>
          <div class="stat-change">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M6 2v8M3 5l3-3 3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            +3 this week
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Active cards</div>
          <div class="stat-value">312</div>
          <div class="stat-change">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M6 2v8M3 5l3-3 3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            +8 this week
          </div>
        </div>
      </div>

      <div class="dash-grid">
        <div class="feed-card">
          <div class="feed-header">
            <div class="feed-title">Recent activity</div>
            <button class="feed-filter">Today</button>
          </div>
          <div class="feed-list" id="feedList"></div>
        </div>
        <div class="qr-preview-card">
          <div class="qr-preview-label">Your counter QR</div>
          <div class="qr-preview-wrap">
            <canvas id="dashQrCanvas" width="200" height="200"></canvas>
          </div>
          <div class="qr-preview-shop">Brew & Co</div>
          <div class="qr-preview-desc">Customers scan this to get a punch card</div>
          <button class="qr-preview-btn" onclick="switchView('counterqr')">View full size</button>
        </div>
      </div>
    </div>

    <!-- Scanner View -->
    <div class="view" id="viewScanner">
      <div class="scanner-container">
        <div class="scanner-header">
          <div class="scanner-title">Scanner</div>
          <div class="scanner-subtitle">Point camera at customer's QR code</div>
        </div>
        <div class="scanner-viewport">
          <div class="scanner-overlay">
            <div class="scanner-corner tl"></div>
            <div class="scanner-corner tr"></div>
            <div class="scanner-corner bl"></div>
            <div class="scanner-corner br"></div>
            <div class="scanner-line"></div>
          </div>
        </div>
        <div class="scanner-hint">Align QR code within the frame</div>
        <div class="scanner-last">
          <div class="scanner-last-title">Last scan</div>
          <div class="scanner-result">
            <div class="scanner-result-icon">&#10003;</div>
            <div class="scanner-result-info">
              <div class="scanner-result-name">Guest EP-7B2F</div>
              <div class="scanner-result-detail">Punch 5 of 10 &middot; 2 min ago</div>
            </div>
            <div class="scanner-result-badge">Punched</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Program View -->
    <div class="view" id="viewProgram">
      <div class="program-container">
        <div class="program-page-title">Punch card program</div>
        <div class="program-page-sub">Your active loyalty program</div>
        <div class="program-card">
          <div class="program-card-header">
            <div class="program-card-title">Coffee Loyalty</div>
            <div class="program-status-badge">
              <div class="program-status-dot"></div>
              Active
            </div>
          </div>
          <div class="program-card-body">
            <div class="program-row">
              <span class="program-row-label">Program name</span>
              <span class="program-row-value">Coffee Loyalty</span>
            </div>
            <div class="program-row">
              <span class="program-row-label">Punches required</span>
              <div class="program-row-dots" id="programDots"></div>
            </div>
            <div class="program-row">
              <span class="program-row-label">Reward</span>
              <span class="program-row-value">1 free coffee of your choice</span>
            </div>
            <div class="program-row">
              <span class="program-row-label">Description</span>
              <span class="program-row-value">Buy 10 coffees, get 1 free</span>
            </div>
            <div class="program-row">
              <span class="program-row-label">Active cards</span>
              <span class="program-row-value">312</span>
            </div>
            <div class="program-row">
              <span class="program-row-label">Total redeemed</span>
              <span class="program-row-value">23</span>
            </div>
          </div>
        </div>
        <button class="program-edit-btn">Edit program</button>
      </div>
    </div>

    <!-- Counter QR View -->
    <div class="view" id="viewCounterqr">
      <div class="counterqr-container">
        <div class="counterqr-title">Counter QR code</div>
        <div class="counterqr-subtitle">Print this or display on a tablet at your counter</div>
        <div class="counterqr-card">
          <div class="counterqr-shop-name">Brew & Co</div>
          <div class="counterqr-program-name">Buy 10 coffees, get 1 free</div>
          <div class="counterqr-canvas-wrap">
            <canvas id="counterQrCanvas" width="240" height="240"></canvas>
          </div>
          <div class="counterqr-instruction">Customers scan this QR code with their phone camera to get a loyalty card for your shop.</div>
          <div class="counterqr-actions">
            <button class="counterqr-btn primary">Print QR code</button>
            <button class="counterqr-btn secondary">Download image</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Staff View -->
    <div class="view" id="viewStaff">
      <div class="staff-container">
        <div class="staff-page-title">Staff</div>
        <div class="staff-page-sub">Staff accounts can only access the scanner</div>
        <button class="staff-add-btn" onclick="openModal()">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="8" y1="3" x2="8" y2="13"/><line x1="3" y1="8" x2="13" y2="8"/></svg>
          Add staff member
        </button>
        <div class="staff-list">
          <div class="staff-item">
            <div class="staff-avatar">A</div>
            <div class="staff-info">
              <div class="staff-name">Alex (you)</div>
              <div class="staff-role">Owner</div>
            </div>
            <div class="staff-status active">
              <div class="staff-status-dot"></div>
              Active
            </div>
          </div>
          <div class="staff-item">
            <div class="staff-avatar">M</div>
            <div class="staff-info">
              <div class="staff-name">maria_bar</div>
              <div class="staff-role">Staff</div>
            </div>
            <div class="staff-status active">
              <div class="staff-status-dot"></div>
              Active
            </div>
            <button class="staff-remove">Remove</button>
          </div>
          <div class="staff-item">
            <div class="staff-avatar">J</div>
            <div class="staff-info">
              <div class="staff-name">jake_m</div>
              <div class="staff-role">Staff</div>
            </div>
            <div class="staff-status active">
              <div class="staff-status-dot"></div>
              Active
            </div>
            <button class="staff-remove">Remove</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings View -->
    <div class="view" id="viewSettings">
      <div class="settings-container">
        <div class="settings-page-title">Settings</div>
        <div class="settings-page-sub">Manage your shop details</div>

        <div class="settings-card">
          <div class="settings-card-title">Shop logo</div>
          <div class="settings-logo-area">
            <div class="settings-logo-preview">B</div>
            <div class="settings-logo-info">
              <div class="settings-logo-text">Upload your shop logo. It shows on your customers' cards.</div>
              <button class="settings-logo-btn">Upload image</button>
            </div>
          </div>
        </div>

        <div class="settings-card">
          <div class="settings-card-title">Shop details</div>
          <div class="settings-row">
            <span class="settings-row-label">Shop name</span>
            <span class="settings-row-value">Brew & Co</span>
          </div>
          <div class="settings-row">
            <span class="settings-row-label">Address</span>
            <span class="settings-row-value">42 Bean Street, Downtown</span>
          </div>
          <div class="settings-row">
            <span class="settings-row-label">Owner email</span>
            <span class="settings-row-value">alex@brewandco.com</span>
          </div>
        </div>

        <div class="settings-card">
          <div class="settings-card-title">Subscription</div>
          <div class="settings-row">
            <span class="settings-row-label">Plan</span>
            <span class="settings-row-value" style="color:var(--gold)">Free trial</span>
          </div>
          <div class="settings-row">
            <span class="settings-row-label">Trial ends</span>
            <span class="settings-row-value">March 19, 2026</span>
          </div>
        </div>

        <div class="settings-danger">
          <div class="settings-danger-title">Account</div>
          <button class="settings-signout-btn">Sign out</button>
        </div>
      </div>
    </div>

  </main>
</div>

<!-- Add Staff Modal -->
<div class="modal-overlay" id="staffModal">
  <div class="modal-box">
    <div class="modal-title">Add staff member</div>
    <div class="modal-field">
      <label class="modal-label">Username</label>
      <input class="modal-input" type="text" placeholder="e.g. sarah_counter">
    </div>
    <div class="modal-field">
      <label class="modal-label">Password</label>
      <input class="modal-input" type="password" placeholder="At least 6 characters">
    </div>
    <div class="modal-actions">
      <button class="modal-btn secondary" onclick="closeModal()">Cancel</button>
      <button class="modal-btn primary" onclick="closeModal()">Add member</button>
    </div>
  </div>
</div>

<script>
function drawQR(canvas, seed, color) {
  var ctx = canvas.getContext('2d');
  var s = canvas.width;
  ctx.clearRect(0, 0, s, s);
  var grid = 25, cell = s / grid;
  var c = color || '#222222';
  var rng = function() { seed = (seed * 16807 + 0) % 2147483647; return seed / 2147483647; };
  for (var i = 0; i < 50; i++) rng();
  ctx.fillStyle = c;
  function finder(x, y) {
    ctx.fillRect(x * cell, y * cell, 7 * cell, 7 * cell);
    ctx.fillStyle = '#FFFFFF';
    ctx.fillRect((x + 1) * cell, (y + 1) * cell, 5 * cell, 5 * cell);
    ctx.fillStyle = c;
    ctx.fillRect((x + 2) * cell, (y + 2) * cell, 3 * cell, 3 * cell);
  }
  finder(0, 0); finder(grid - 7, 0); finder(0, grid - 7);
  for (var row = 0; row < grid; row++) {
    for (var col = 0; col < grid; col++) {
      if (col < 8 && row < 8) continue;
      if (col >= grid - 8 && row < 8) continue;
      if (col < 8 && row >= grid - 8) continue;
      if (rng() > 0.55) ctx.fillRect(col * cell, row * cell, cell, cell);
    }
  }
}

var FEED = [
  { type: 'punch', name: 'Guest EP-7B2F', detail: 'Punch 5 of 10', time: '2 min ago' },
  { type: 'punch', name: 'Guest EP-9A1C', detail: 'Punch 3 of 10', time: '8 min ago' },
  { type: 'redeem', name: 'Kirill S.', detail: 'Free coffee redeemed', time: '15 min ago' },
  { type: 'punch', name: 'Guest EP-4D8E', detail: 'Punch 10 of 10 — Reward ready!', time: '22 min ago' },
  { type: 'new', name: 'Guest EP-6F3A', detail: 'New card created', time: '34 min ago' },
  { type: 'punch', name: 'Anna M.', detail: 'Punch 7 of 10', time: '41 min ago' },
  { type: 'punch', name: 'Guest EP-1B5D', detail: 'Punch 2 of 10', time: '55 min ago' },
  { type: 'redeem', name: 'Guest EP-8C2E', detail: 'Free coffee redeemed', time: '1 hr ago' },
  { type: 'punch', name: 'Guest EP-3E7F', detail: 'Punch 6 of 10', time: '1 hr ago' },
  { type: 'new', name: 'Guest EP-5G9H', detail: 'New card created', time: '2 hr ago' },
  { type: 'punch', name: 'Maria K.', detail: 'Punch 9 of 10', time: '2 hr ago' },
  { type: 'punch', name: 'Guest EP-2A4B', detail: 'Punch 1 of 10', time: '3 hr ago' },
];

function renderFeed() {
  var list = document.getElementById('feedList');
  var html = '';
  FEED.forEach(function(item) {
    var iconClass = item.type === 'redeem' ? 'redeem' : item.type === 'new' ? 'new-card' : 'punch';
    var icon = item.type === 'redeem' ? '\u2605' : item.type === 'new' ? '+' : '\u2022';
    var badgeClass = item.type === 'redeem' ? 'redeem-badge' : item.type === 'new' ? 'new-badge' : 'punch-badge';
    var badgeText = item.type === 'redeem' ? 'Redeemed' : item.type === 'new' ? 'New card' : 'Punched';
    html += '<div class="feed-item">' +
      '<div class="feed-icon ' + iconClass + '">' + icon + '</div>' +
      '<div class="feed-content">' +
      '<div class="feed-text"><strong>' + item.name + '</strong></div>' +
      '<div class="feed-time">' + item.detail + ' &middot; ' + item.time + '</div></div>' +
      '<div class="feed-badge ' + badgeClass + '">' + badgeText + '</div></div>';
  });
  list.innerHTML = html;
}

function renderProgramDots() {
  var el = document.getElementById('programDots');
  var total = 10;
  var html = '';
  for (var i = 0; i < total; i++) {
    html += '<div class="program-dot' + (i < total ? ' filled' : '') + '"></div>';
  }
  el.innerHTML = html;
}

function switchView(name) {
  document.querySelectorAll('.nav-item').forEach(function(n) { n.classList.remove('active'); });
  document.querySelector('.nav-item[data-view="' + name + '"]').classList.add('active');
  document.querySelectorAll('.view').forEach(function(v) { v.classList.remove('active'); });
  var viewMap = {
    dashboard: 'viewDashboard',
    scanner: 'viewScanner',
    program: 'viewProgram',
    counterqr: 'viewCounterqr',
    staff: 'viewStaff',
    settings: 'viewSettings'
  };
  document.getElementById(viewMap[name]).classList.add('active');
}

function openModal() {
  document.getElementById('staffModal').classList.add('visible');
}
function closeModal() {
  document.getElementById('staffModal').classList.remove('visible');
}
document.getElementById('staffModal').addEventListener('click', function(e) {
  if (e.target === this) closeModal();
});

drawQR(document.getElementById('dashQrCanvas'), 0x6B4C3B12, '#222222');
drawQR(document.getElementById('counterQrCanvas'), 0x6B4C3B12, '#222222');
renderFeed();
renderProgramDots();
</script>
</body>
</html>
